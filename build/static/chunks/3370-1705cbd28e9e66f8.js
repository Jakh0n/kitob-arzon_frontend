"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3370],{40767:(e,t,n)=>{n.d(t,{A:()=>r});let r=(0,n(67401).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},62656:(e,t,n)=>{let r;n.d(t,{Jt:()=>ry,Wi:()=>rw});var a=n(95155);let i=function(e,t){if("function"==typeof e)return function(){return e(arguments)?t.apply(this,arguments):e=>t(e,...arguments)};switch(e){case 0:case 1:throw RangeError("Invalid arity ".concat(e));case 2:return function(e,n){return arguments.length>=2?t(e,n):function(n){return t(n,e)}};case 3:return function(e,n,r){return arguments.length>=3?t(e,n,r):function(r){return t(r,e,n)}};case 4:return function(e,n,r,a){return arguments.length>=4?t(e,n,r,a):function(a){return t(a,e,n,r)}};case 5:return function(e,n,r,a,i){return arguments.length>=5?t(e,n,r,a,i):function(i){return t(i,e,n,r,a)}};default:return function(){if(arguments.length>=e)return t.apply(this,arguments);let n=arguments;return function(e){return t(e,...n)}}}},s=e=>e,o=(r=void 0,()=>r),l=Symbol.for("effect/GlobalValue/globalStoreId/".concat("3.11.5"));l in globalThis||(globalThis[l]=new Map);let u=globalThis[l],c=(e,t)=>(u.has(e)||u.set(e,t()),u.get(e)),d=e=>"string"==typeof e,p=e=>"number"==typeof e,f=e=>"function"==typeof e,h=e=>"object"==typeof e&&null!==e,g=e=>h(e)||f(e),v=i(2,(e,t)=>g(e)&&t in e),m=i(2,(e,t)=>v(e,"_tag")&&e._tag===t),x=e=>h(e)&&!Array.isArray(e);function b(e,t,n){if(!t.has(e))throw TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}let y=e=>"BUG: ".concat(e," - please report an issue at https://github.com/Effect-TS/effect/issues");Symbol.iterator;class w{next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new w(this.self)}constructor(e){this.called=!1,this.self=e}}let _=Symbol.for("effect/Utils/YieldWrap");var j=new WeakMap;class k{[_](){var e;return(e=b(this,j,"get")).get?e.get.call(this):e.value}constructor(e){!function(e,t,n){(function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}(this,j,{writable:!0,value:void 0}),function(e,t,n){var r=b(e,t,"set");!function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=n}}(e,r,n)}(this,j,e)}}let E=c("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),S=c(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),O=Symbol.for("effect/Hash"),C=e=>{if(!0===E.enabled)return 0;switch(typeof e){case"number":return I(e);case"bigint":return U(e.toString(10));case"boolean":case"symbol":return U(String(e));case"string":return U(e);case"undefined":return U("undefined");case"function":case"object":if(null===e)return U("null");if(e instanceof Date)return C(e.toISOString());if(T(e))return e[O]();return R(e);default:throw Error("BUG: unhandled typeof ".concat(typeof e," - please report an issue at https://github.com/Effect-TS/effect/issues"))}},R=e=>(S.has(e)||S.set(e,I(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),S.get(e)),A=e=>t=>53*t^e,N=e=>0xbfffffff&e|e>>>1&0x40000000,T=e=>v(e,O),I=e=>{if(e!=e||e===1/0)return 0;let t=0|e;for(t!==e&&(t^=0xffffffff*e);e>0xffffffff;)t^=e/=0xffffffff;return N(t)},U=e=>{let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return N(t)},M=(e,t)=>{let n=12289;for(let r=0;r<t.length;r++)n^=function(e,t,n,r,a,i,s,o,l){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return a(r(n(t(e))));case 6:return i(a(r(n(t(e)))));case 7:return s(i(a(r(n(t(e))))));case 8:return o(s(i(a(r(n(t(e)))))));case 9:return l(o(s(i(a(r(n(t(e))))))));default:{let e=arguments[0];for(let t=1;t<arguments.length;t++)e=arguments[t](e);return e}}}(U(t[r]),A(C(e[t[r]])));return N(n)},F=e=>M(e,Object.keys(e)),L=function(){if(1==arguments.length){let e=arguments[0];return function(t){return Object.defineProperty(e,O,{value:()=>t,enumerable:!1}),t}}let e=arguments[0],t=arguments[1];return Object.defineProperty(e,O,{value:()=>t,enumerable:!1}),t},D=Symbol.for("effect/Equal");function z(){return 1==arguments.length?e=>P(e,arguments[0]):P(arguments[0],arguments[1])}function P(e,t){if(e===t)return!0;let n=typeof e;if(n!==typeof t)return!1;if("object"===n||"function"===n){if(null!==e&&null!==t){if($(e)&&$(t))return!!(C(e)===C(t)&&e[D](t))||!!E.enabled&&!!E.tester&&E.tester(e,t);if(e instanceof Date&&t instanceof Date)return e.toISOString()===t.toISOString()}if(E.enabled){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((e,n)=>P(e,t[n]));if(Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){let n=Object.keys(e),r=Object.keys(t);if(n.length===r.length){for(let r of n)if(!(r in t&&P(e[r],t[r])))return!!E.tester&&E.tester(e,t);return!0}}return!!E.tester&&E.tester(e,t)}}return!!E.enabled&&!!E.tester&&E.tester(e,t)}let $=e=>v(e,D),B=Symbol.for("nodejs.util.inspect.custom"),J=e=>{try{if(v(e,"toJSON")&&f(e.toJSON)&&0===e.toJSON.length)return e.toJSON();if(Array.isArray(e))return e.map(J)}catch(e){return{}}return X(e)},H=e=>JSON.stringify(e,null,2),V=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if("string"==typeof e)return e;try{return"object"==typeof e?q(e,t):String(e)}catch(t){return String(e)}},q=(e,t)=>{let n=[],r=JSON.stringify(e,(e,t)=>"object"==typeof t&&null!==t?n.includes(t)?void 0:n.push(t)&&(void 0!==G.fiberRefs&&Y(t)?t[W](G.fiberRefs):t):t,t);return n=void 0,r},W=Symbol.for("effect/Inspectable/Redactable"),Y=e=>"object"==typeof e&&null!==e&&W in e,G=c("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),X=e=>Y(e)&&void 0!==G.fiberRefs?e[W](G.fiberRefs):e,Z=(e,t)=>{switch(t.length){case 0:return e;case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let n=e;for(let e=0,r=t.length;e<r;e++)n=t[e](n);return n}}},K=Symbol.for("effect/Effect"),Q=Symbol.for("effect/Stream"),ee=Symbol.for("effect/Sink"),et=Symbol.for("effect/Channel"),en={_R:e=>e,_E:e=>e,_A:e=>e,_V:"3.11.5"},er={[K]:en,[Q]:en,[ee]:{_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e},[et]:{_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},[D](e){return this===e},[O](){return L(this,R(this))},[Symbol.iterator](){return new w(new k(this))},pipe(){return Z(this,arguments)}},ea={[O](){return L(this,F(this))},[D](e){let t=Object.keys(this),n=Object.keys(e);if(t.length!==n.length)return!1;for(let n of t)if(!(n in e&&z(this[n],e[n])))return!1;return!0}},ei=Symbol.for("effect/Option"),es={...er,[ei]:{_A:e=>e},[B](){return this.toJSON()},toString(){return H(this.toJSON())}},eo=C("None"),el=Object.assign(Object.create(es),{_tag:"None",_op:"None",[D]:e=>eu(e)&&ec(e),[O]:()=>eo,toJSON(){return{_id:"Option",_tag:this._tag}}}),eu=e=>v(e,ei),ec=e=>"None"===e._tag,ed=e=>"Some"===e._tag,ep=Symbol.for("effect/Either");Symbol.iterator,()=>ef;let ef={next:()=>({done:!0,value:void 0})};Object.fromEntries,(e,t)=>{let n=[];for(let r of eh(e))n.push(t(r,e[r]));return n};let eh=e=>Object.keys(e),eg=e=>Array.isArray(e)?e:Array.from(e),ev=e=>Array.isArray(e)?e:[e],em=Symbol.for("effect/Context/Tag"),ex=Symbol.for("effect/Context/Reference"),eb=Symbol.for("effect/STM"),ey={...er,_op:"Tag",[eb]:en,[em]:{_Service:e=>e,_Identifier:e=>e},toString(){return H(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[B](){return this.toJSON()},of:e=>e,context(e){return eO(this,e)}},ew={...ey,[ex]:ex},e_=Symbol.for("effect/Context"),ej={[e_]:{_Services:e=>e},[D](e){if(eS(e)&&this.unsafeMap.size===e.unsafeMap.size){for(let t of this.unsafeMap.keys())if(!e.unsafeMap.has(t)||!z(this.unsafeMap.get(t),e.unsafeMap.get(t)))return!1;return!0}return!1},[O](){return L(this,I(this.unsafeMap.size))},pipe(){return Z(this,arguments)},toString(){return H(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(J)}},[B](){return this.toJSON()}},ek=e=>{let t=Object.create(ej);return t.unsafeMap=e,t},eE=e=>{let t=Error("Service not found".concat(e.key?": ".concat(String(e.key)):""));if(e.stack){let n=e.stack.split("\n");if(n.length>2){let e=n[2].match(/at (.*)/);e&&(t.message=t.message+" (defined at ".concat(e[1],")"))}}if(t.stack){let e=t.stack.split("\n");e.splice(1,3),t.stack=e.join("\n")}return t},eS=e=>v(e,e_),eO=(e,t)=>ek(new Map([[e.key,t]])),eC=i(3,(e,t,n)=>{let r=new Map(e.unsafeMap);return r.set(t.key,n),ek(r)}),eR=c("effect/Context/defaultValueCache",()=>new Map),eA=e=>{if(eR.has(e.key))return eR.get(e.key);let t=e.defaultValue();return eR.set(e.key,t),t},eN=(e,t)=>e.unsafeMap.has(t.key)?e.unsafeMap.get(t.key):eA(t),eT=i(2,(e,t)=>{if(!e.unsafeMap.has(t.key)){if(ex in t)return eA(t);throw eE(t)}return e.unsafeMap.get(t.key)}),eI=e=>()=>{let t=Error.stackTraceLimit;Error.stackTraceLimit=2;let n=Error();function r(){}return Error.stackTraceLimit=t,Object.setPrototypeOf(r,ey),r.key=e,Object.defineProperty(r,"stack",{get:()=>n.stack}),r},eU=()=>(e,t)=>{let n=Error.stackTraceLimit;Error.stackTraceLimit=2;let r=Error();function a(){}return Error.stackTraceLimit=n,Object.setPrototypeOf(a,ew),a.key=e,a.defaultValue=t.defaultValue,Object.defineProperty(a,"stack",{get:()=>r.stack}),a},eM=Symbol.for("effect/Micro"),eF=Symbol.for("effect/Micro/MicroExit"),eL=e=>"object"==typeof e&&null!==e&&eM in e,eD=Symbol.for("effect/Micro/MicroCause"),ez={_E:s};class eP extends globalThis.Error{pipe(){return Z(this,arguments)}toString(){return this.stack}[B](){return this.stack}constructor(e,t,n){let r,a,i;let s="MicroCause.".concat(e);if(t instanceof globalThis.Error){r="(".concat(s,") ").concat(t.name);let e=(a=t.message).split("\n").length;i=t.stack?"(".concat(s,") ").concat(t.stack.split("\n").slice(0,e+3).join("\n")):"".concat(r,": ").concat(a)}else r=s,a=V(t,0),i="".concat(r,": ").concat(a);n.length>0&&(i+="\n    ".concat(n.join("\n    "))),super(a),this._tag=e,this.traces=n,this[eD]=ez,this.name=r,this.stack=i}}class e$ extends eP{constructor(e,t=[]){super("Fail",e,t),this.error=e}}let eB=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new e$(e,t)};class eJ extends eP{constructor(e,t=[]){super("Die",e,t),this.defect=e}}let eH=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new eJ(e,t)};class eV extends eP{constructor(e=[]){super("Interrupt","interrupted",e)}}let eq=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new eV(e)},eW=e=>"Fail"===e._tag,eY=e=>"Interrupt"===e._tag,eG=e=>"Fail"===e._tag?e.error:"Die"===e._tag?e.defect:e,eX=i(2,(e,t)=>{let n=[...e.traces,t];switch(e._tag){case"Die":return eH(e.defect,n);case"Interrupt":return eq(n);case"Fail":return eB(e.error,n)}}),eZ=Symbol.for("effect/Micro/MicroFiber"),eK={_A:s,_E:s};class eQ{getRef(e){return eN(this.context,e)}addObserver(e){return this._exit?(e(this._exit),o):(this._observers.push(e),()=>{let t=this._observers.indexOf(e);t>=0&&this._observers.splice(t,1)})}unsafeInterrupt(){!this._exit&&(this._interrupted=!0,this.interruptible&&this.evaluate(tN))}unsafePoll(){return this._exit}evaluate(e){if(this._exit)return;if(void 0!==this._yielded){let e=this._yielded;this._yielded=void 0,e()}let t=this.runLoop(e);if(t===e8)return;let n=e0.interruptChildren&&e0.interruptChildren(this);if(void 0!==n)return this.evaluate(tE(n,()=>t));this._exit=t;for(let e=0;e<this._observers.length;e++)this._observers[e](t);this._observers.length=0}runLoop(e){let t=!1,n=e;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!t&&this.getRef(tJ).shouldYield(this)){t=!0;let e=n;n=tE(tu,()=>e)}if((n=n[e3](this))===e8){let e=this._yielded;if(eF in e)return this._yielded=void 0,e;return e8}}}catch(e){if(!v(n,e3))return tT("MicroFiber.runLoop: Not a valid effect: ".concat(String(n)));return tT(e)}}getCont(e){for(;;){let t=this._stack.pop();if(!t)return;let n=t[e7]&&t[e7](this);if(n)return{[e]:n};if(t[e])return t}}yieldWith(e){return this._yielded=e,e8}children(){var e;return null!==(e=this._children)&&void 0!==e?e:this._children=new Set}constructor(e,t=!0){this._stack=[],this._observers=[],this.currentOpCount=0,this._interrupted=!1,this._yielded=void 0,this.context=e,this.interruptible=t,this[eZ]=eK}}let e0=c("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),e1=e=>tl(()=>{for(let t of e)t.unsafeInterrupt();let t=e[Symbol.iterator](),n=tl(()=>{let e=t.next();for(;!e.done;){if(e.value.unsafePoll()){e=t.next();continue}let r=e.value;return tx(e=>{r.addObserver(t=>{e(n)})})}return tU});return n}),e2=Symbol.for("effect/Micro/identifier"),e4=Symbol.for("effect/Micro/args"),e3=Symbol.for("effect/Micro/evaluate"),e5=Symbol.for("effect/Micro/successCont"),e6=Symbol.for("effect/Micro/failureCont"),e7=Symbol.for("effect/Micro/ensureCont"),e8=Symbol.for("effect/Micro/Yield"),e9={...er,_op:"Micro",[eM]:{_A:s,_E:s,_R:s},pipe(){return Z(this,arguments)},[Symbol.iterator](){return new w(new k(this))},toJSON(){return{_id:"Micro",op:this[e2],...e4 in this?{args:this[e4]}:void 0}},toString(){return H(this)},[B](){return H(this)}};function te(e){return tT("Micro.evaluate: Not implemented")}let tt=e=>{var t;return{...e9,[e2]:e.op,[e3]:null!==(t=e.eval)&&void 0!==t?t:te,[e5]:e.contA,[e6]:e.contE,[e7]:e.ensure}},tn=e=>{let t=tt(e);return function(){let n=Object.create(t);return n[e4]=!1===e.single?arguments:arguments[0],n}},tr=e=>{let t={...tt(e),[eF]:eF,_tag:e.op,get[e.prop](){return this[e4]},toJSON(){return{_id:"MicroExit",_tag:e.op,[e.prop]:this[e4]}},[D](t){return tC(t)&&t._tag===e.op&&z(this[e4],t[e4])},[O](){return L(this,A(U(e.op))(C(this[e4])))}};return function(e){let n=Object.create(t);return n[e4]=e,n[e5]=void 0,n[e6]=void 0,n[e7]=void 0,n}},ta=tr({op:"Success",prop:"value",eval(e){let t=e.getCont(e5);return t?t[e5](this[e4],e):e.yieldWith(this)}}),ti=tr({op:"Failure",prop:"cause",eval(e){let t=e.getCont(e6);for(;eY(this[e4])&&t&&e.interruptible;)t=e.getCont(e6);return t?t[e6](this[e4],e):e.yieldWith(this)}}),ts=e=>ti(eB(e)),to=tn({op:"Sync",eval(e){let t=this[e4](),n=e.getCont(e5);return n?n[e5](t,e):e.yieldWith(tR(t))}}),tl=tn({op:"Suspend",eval(e){return this[e4]()}}),tu=tn({op:"Yield",eval(e){var t;let n=!1;return e.getRef(tJ).scheduleTask(()=>{n||e.evaluate(tU)},null!==(t=this[e4])&&void 0!==t?t:0),e.yieldWith(()=>{n=!0})}})(0),tc=e=>tT(e),td=ta(void 0),tp=e=>tl(()=>{try{return ta(e.try())}catch(t){return ts(e.catch(t))}}),tf=e=>tv(function(t,n){e(n).then(e=>t(ta(e)),e=>t(tc(e)))},0!==e.length),th=e=>tv(function(t,n){try{e.try(n).then(e=>t(ta(e)),n=>t(ts(e.catch(n))))}catch(n){t(ts(e.catch(n)))}},0!==e.try.length),tg=tn({op:"WithMicroFiber",eval(e){return this[e4](e)}}),tv=tn({op:"Async",single:!1,eval(e){let t=this[e4][0],n=!1,r=!1,a=this[e4][1]?new AbortController:void 0,i=t(t=>{n||(n=!0,r?e.evaluate(t):r=t)},null==a?void 0:a.signal);return!1!==r?r:(r=!0,e._yielded=()=>{n=!0},void 0===a&&void 0===i||e._stack.push(tm(()=>(n=!0,null==a||a.abort(),null!=i?i:tU))),e8)}}),tm=tn({op:"AsyncFinalizer",ensure(e){e.interruptible&&(e.interruptible=!1,e._stack.push(t6(!0)))},contE(e,t){return eY(e)?tE(this[e4](),()=>ti(e)):ti(e)}}),tx=e=>tv(e,e.length>=2),tb=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return tl(()=>ty(1===t.length?t[0]():t[1].call(t[0])))},ty=tn({op:"Iterator",contA(e,t){let n=this[e4].next(e);return n.done?ta(n.value):(t._stack.push(this),function(e){if("object"==typeof e&&null!==e&&_ in e)return e[_]();throw Error(y("yieldWrapGet"))}(n.value))},eval(e){return this[e5](void 0,e)}}),tw=i(2,(e,t)=>tO(e,e=>t)),t_=i(2,(e,t)=>tE(e,e=>{let n=eL(t)?t:"function"==typeof t?t(e):t;return eL(n)?n:ta(n)})),tj=i(2,(e,t)=>tE(e,e=>{let n=eL(t)?t:"function"==typeof t?t(e):t;return eL(n)?tw(n,e):ta(e)})),tk=e=>t1(e,{onFailure:tA,onSuccess:tR}),tE=i(2,(e,t)=>{let n=Object.create(tS);return n[e4]=e,n[e5]=t,n}),tS=tt({op:"OnSuccess",eval(e){return e._stack.push(this),this[e4]}}),tO=i(2,(e,t)=>tE(e,e=>ta(t(e)))),tC=e=>v(e,eF),tR=ta,tA=ti,tN=tA(eq()),tT=e=>tA(eH(e)),tI=e=>"Failure"===e._tag,tU=tR(void 0),tM=e=>{for(let t of e)if("Failure"===t._tag)return t;return tU},tF="setImmediate"in globalThis?globalThis.setImmediate:e=>setTimeout(e,0);class tL{scheduleTask(e,t){this.tasks.push(e),this.running||(this.running=!0,tF(this.afterScheduled))}runTasks(){let e=this.tasks;this.tasks=[];for(let t=0,n=e.length;t<n;t++)e[t]()}shouldYield(e){return e.currentOpCount>=e.getRef(t$)}flush(){for(;this.tasks.length>0;)this.runTasks()}constructor(){this.tasks=[],this.running=!1,this.afterScheduled=()=>{this.running=!1,this.runTasks()}}}let tD=e=>tg(t=>ta(eT(t.context,e))),tz=i(2,(e,t)=>tg(n=>{let r=n.context;return n.context=t(r),t4(e,()=>(n.context=r,td))})),tP=i(3,(e,t,n)=>tz(e,eC(t,n)));class t$ extends eU()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048}){}class tB extends eU()("effect/Micro/currentConcurrency",{defaultValue:()=>"unbounded"}){}class tJ extends eU()("effect/Micro/currentScheduler",{defaultValue:()=>new tL}){}let tH=i(e=>eL(e[0]),(e,t,n)=>tE(e,e=>t(e)?ta(e):ts(n(e)))),tV=i(2,(e,t)=>{let n=Object.create(tq);return n[e4]=e,n[e6]=t,n}),tq=tt({op:"OnFailure",eval(e){return e._stack.push(this),this[e4]}}),tW=i(3,(e,t,n)=>tV(e,e=>t(e)?n(e):ti(e))),tY=i(3,(e,t,n)=>tW(e,t,e=>t_(n(e),ti(e)))),tG=i(2,(e,t)=>tY(e,eW,e=>t(e.error))),tX=i(3,(e,t,n)=>tW(e,e=>eW(e)&&t(e.error),e=>n(e.error))),tZ=i(3,(e,t,n)=>tX(e,m(t),n)),tK=function(){let e=globalThis.Error.stackTraceLimit;globalThis.Error.stackTraceLimit=2;let t=new globalThis.Error;globalThis.Error.stackTraceLimit=e;let n=e=>n=>t5(n,n=>ti(function(e,n){var r;let a=t.stack;if(!a)return n;let i=null===(r=a.split("\n")[2])||void 0===r?void 0:r.trim().replace(/^at /,"");if(!i)return n;let s=i.match(/\((.*)\)$/);return eX(n,"at ".concat(e," (").concat(s?s[1]:i,")"))}(e,n)));return 2==arguments.length?n(arguments[1])(arguments[0]):n(arguments[0])},tQ=i(2,(e,t)=>{let n=Object.create(t0);return n[e4]=e,n[e5]=t.onSuccess,n[e6]=t.onFailure,n}),t0=tt({op:"OnSuccessAndFailure",eval(e){return e._stack.push(this),this[e4]}}),t1=null;class t2{unsafeAddFinalizer(e){"Open"===this.state._tag&&this.state.finalizers.add(e)}addFinalizer(e){return tl(()=>"Open"===this.state._tag?(this.state.finalizers.add(e),td):e(this.state.exit))}unsafeRemoveFinalizer(e){"Open"===this.state._tag&&this.state.finalizers.delete(e)}close(e){return tl(()=>{if("Open"===this.state._tag){let t=Array.from(this.state.finalizers).reverse();return this.state={_tag:"Closed",exit:e},tE(ne(t,t=>tk(t(e))),tM)}return td})}get fork(){return to(()=>{let e=new t2;if("Closed"===this.state._tag)return e.state=this.state,e;function t(t){return e.close(t)}return this.state.finalizers.add(t),e.unsafeAddFinalizer(e=>to(()=>this.unsafeRemoveFinalizer(t))),e})}constructor(){this.state={_tag:"Open",finalizers:new Set},this[null]=null}}let t4=i(2,(e,t)=>t8(n=>tQ(n(e),{onFailure:e=>tE(t(tA(e)),()=>ti(e)),onSuccess:e=>tE(t(tR(e)),()=>ta(e))}))),t3=i(3,(e,t,n)=>t4(e,e=>t(e)?n(e):tU)),t5=i(2,(e,t)=>t3(e,tI,e=>t(e.cause))),t6=tn({op:"SetInterruptible",ensure(e){if(e.interruptible=this[e4],e._interrupted&&e.interruptible)return()=>tN}}),t7=e=>tg(t=>t.interruptible?e:(t.interruptible=!0,t._stack.push(t6(!1)),t._interrupted)?tN:e),t8=e=>tg(t=>t.interruptible?(t.interruptible=!1,t._stack.push(t6(!0)),e(t7)):e(s)),t9=tn({op:"While",contA(e,t){return(this[e4].step(e),this[e4].while())?(t._stack.push(this),this[e4].body()):tU},eval(e){return this[e4].while()?(e._stack.push(this),this[e4].body()):tU}}),ne=(e,t,n)=>tg(r=>{var a;let i=(null==n?void 0:n.concurrency)==="inherit"?r.getRef(tB):null!==(a=null==n?void 0:n.concurrency)&&void 0!==a?a:1,s="unbounded"===i?Number.POSITIVE_INFINITY:Math.max(1,i),o=eg(e),l=o.length;if(0===l)return(null==n?void 0:n.discard)?td:ta([]);let u=(null==n?void 0:n.discard)?void 0:Array(l),c=0;return 1===s?tw(t9({while:()=>c<o.length,body:()=>t(o[c],c),step:u?e=>u[c++]=e:e=>c++}),u):tx(e=>{let n;let a=new Set,i=0,d=0,p=!1,f=!1;return!function h(){for(p=!0;i<s&&c<l;){let g=c,v=o[g];c++,i++;try{let o=nt(r,t(v,g),!0,!0);a.add(o),o.addObserver(t=>{a.delete(o),f||("Failure"===t._tag?void 0===n&&(n=t,l=c,a.forEach(e=>e.unsafeInterrupt())):void 0!==u&&(u[g]=t.value),d++,i--,d===l?e(null!=n?n:ta(u)):!p&&i<s&&h())})}catch(e){n=tT(e),l=c,a.forEach(e=>e.unsafeInterrupt())}}p=!1}(),tl(()=>(f=!0,c=l,e1(a)))})}),nt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=new eQ(e.context,e.interruptible);return r||(e.children().add(a),a.addObserver(()=>e.children().delete(a))),n?a.evaluate(t):e.getRef(tJ).scheduleTask(()=>a.evaluate(t),0),a},nn=(e,t)=>{var n;let r=new eQ(tJ.context(null!==(n=null==t?void 0:t.scheduler)&&void 0!==n?n:new tL));if(r.evaluate(e),null==t?void 0:t.signal){if(t.signal.aborted)r.unsafeInterrupt();else{let e=()=>r.unsafeInterrupt();t.signal.addEventListener("abort",e,{once:!0}),r.addObserver(()=>t.signal.removeEventListener("abort",e))}}return r},nr=(e,t)=>new Promise((n,r)=>{nn(e,t).addObserver(n)}),na=(e,t)=>nr(e,t).then(e=>{if("Failure"===e._tag)throw e.cause;return e.value}),ni=e=>{var t;let n=new tL,r=nn(e,{scheduler:n});return n.flush(),null!==(t=r._exit)&&void 0!==t?t:tT(r)},ns=e=>{let t=ni(e);if("Failure"===t._tag)throw t.cause;return t.value},no=function(){class e extends globalThis.Error{}return Object.assign(e.prototype,e9,ea,{[e2]:"Failure",[e3](){return ts(this)},toString(){return this.message?"".concat(this.name,": ").concat(this.message):this.name},toJSON(){return{...this}},[B](){let e=this.stack;return e?"".concat(this.toString(),"\n").concat(e.split("\n").slice(1).join("\n")):this.toString()}}),e}(),nl=class extends no{constructor(e){super(),e&&Object.assign(this,e)}},nu=e=>{class t extends nl{constructor(...t){super(...t),this._tag=e}}return t.prototype.name=e,t},nc={"audio/3gpp":{source:"iana",extensions:["3gpp"]},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/basic":{source:"iana",extensions:["au","snd"]},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp4":{source:"iana",extensions:["m4a","mp4a"]},"audio/mpeg":{source:"iana",extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/ogg":{source:"iana",extensions:["oga","ogg","spx","opus"]},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/silk":{source:"apache",extensions:["sil"]},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/webm":{source:"apache",extensions:["weba"]},"audio/x-aac":{source:"apache",extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/x-gsm":{source:"apache",extensions:["gsm"]},"audio/xm":{source:"apache",extensions:["xm"]}},nd={"image/aces":{source:"iana",extensions:["exr"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",extensions:["avif"]},"image/bmp":{source:"iana",extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",extensions:["jpeg","jpg","jpe","jfif","pjpeg","pjp"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",extensions:["jpm"]},"image/jpx":{source:"iana",extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/png":{source:"iana",extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.microsoft.icon":{source:"iana",extensions:["ico"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]}},np={"text/cache-manifest":{source:"iana",extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/css":{source:"iana",charset:"UTF-8",extensions:["css"]},"text/csv":{source:"iana",extensions:["csv"]},"text/html":{source:"iana",extensions:["html","htm","shtml"]},"text/markdown":{source:"iana",extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/n3":{source:"iana",charset:"UTF-8",extensions:["n3"]},"text/plain":{source:"iana",extensions:["txt","text","conf","def","list","log","in","ini"]},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/richtext":{source:"iana",extensions:["rtx"]},"text/rtf":{source:"iana",extensions:["rtf"]},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shex":{source:"iana",extensions:["shex"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/tab-separated-values":{source:"iana",extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/uri-list":{source:"iana",extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",extensions:["vcard"]},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",extensions:["xml"]}},nf={"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h264":{source:"iana",extensions:["h264"]},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",extensions:["mp4","mp4v","mpg4"]},"video/mpeg":{source:"iana",extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/ogg":{source:"iana",extensions:["ogv"]},"video/quicktime":{source:"iana",extensions:["qt","mov"]},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/webm":{source:"apache",extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]}};var nh=n(2818);class ng extends nu("InvalidURL"){constructor(e){super({reason:`Failed to parse '${e}' as a URL.`})}}class nv extends nu("FetchError"){}class nm extends nu("InvalidJson"){}class nx extends nu("BadRequestError"){getMessage(){return x(this.json)&&"string"==typeof this.json.message?this.json.message:this.message}}class nb extends nu("UploadAborted"){}class ny extends nu("UploadAborted"){}async function nw(e){let t=await e.text();try{return JSON.parse(t??"null")}catch(e){return console.error(`Error parsing JSON, got '${t}'`),Error(`Error parsing JSON, got '${t}'`)}}function n_(e){return Object.keys(e)}function nj(e,t,n){!function(e,t){let n=/(\d+)\.?(\d+)?\.?(\d+)?/,r=e.match(n);if(!r?.[0])throw Error(`Invalid semver requirement: ${e}`);let a=t.match(n);if(!a?.[0])throw Error(`Invalid semver to check: ${t}`);let[i,s,o,l]=r,[u,c,d,p]=a;return e.startsWith("^")?s===c&&!(o>d):e.startsWith("~")?s===c&&o===d:s===c&&o===d&&l===p}(t,n)&&console.warn(`!!!WARNING::: ${e} requires "uploadthing@${t}", but version "${n}" is installed`)}let nk=e=>tb(function*(){let t="undefined"!=typeof window?window.location.origin:nh.env?.VERCEL_URL?`https://${nh.env.VERCEL_URL}`:"http://localhost:3000",n=yield*tp({try:()=>new URL(e??"/api/uploadthing",t),catch:()=>new ng(e??"/api/uploadthing")});return"/"===n.pathname&&(n.pathname="/api/uploadthing"),n}),nE=e=>e instanceof URL?e:ns(nk(e));function nS(){}let nO={BAD_REQUEST:400,NOT_FOUND:404,FORBIDDEN:403,INTERNAL_SERVER_ERROR:500,INTERNAL_CLIENT_ERROR:500,TOO_LARGE:413,TOO_SMALL:400,TOO_MANY_FILES:400,KEY_TOO_LONG:400,URL_GENERATION_FAILED:500,UPLOAD_FAILED:500,MISSING_ENV:500,INVALID_SERVER_CONFIG:500,FILE_LIMIT_EXCEEDED:500};class nC extends nl{constructor(e){let t="string"==typeof e?{code:"INTERNAL_SERVER_ERROR",message:e}:e;super({message:t.message??function(e,t){return"string"==typeof e?e:e instanceof Error||e&&"object"==typeof e&&"message"in e&&"string"==typeof e.message?e.message:t??"An unknown error occurred"}(t.cause,t.code)}),this._tag="UploadThingError",this.name="UploadThingError",this.code=t.code,this.data=t.data,t.cause instanceof Error?this.cause=t.cause:x(t.cause)&&p(t.cause.status)&&d(t.cause.statusText)?this.cause=Error(`Response ${t.cause.status} ${t.cause.statusText}`):d(t.cause)?this.cause=Error(t.cause):this.cause=t.cause}static toObject(e){return{code:e.code,message:e.message,data:e.data}}static serialize(e){return JSON.stringify(nC.toObject(e))}}let nR=e=>new nC({code:"INTERNAL_CLIENT_ERROR",message:"Something went wrong. Please report this to UploadThing.",cause:e});class nA extends eI("uploadthing/Fetch")(){}let nN=(e,t)=>tE(tD(nA),n=>{let r=new Headers(t?.headers??[]),a={url:e.toString(),method:t?.method,body:t?.body,headers:Object.fromEntries(r)};return th({try:a=>n(e,{...t,headers:r,signal:a}),catch:e=>new nv({error:e instanceof Error?{...e,name:e.name,message:e.message,stack:e.stack}:e,input:a})}).pipe(tG(e=>to(()=>console.error(e.input))),tO(e=>Object.assign(e,{requestUrl:a.url})),tK("fetch"))}),nT=e=>th({try:async()=>({json:await e.json(),ok:e.ok,status:e.status}),catch:t=>new nm({error:t,input:e.requestUrl})}).pipe(tH(({ok:e})=>e,({json:t,status:n})=>new nx({status:n,message:`Request to ${e.requestUrl} failed with status ${n}`,json:t})),tO(({json:e})=>e),tK("parseJson")),nI=e=>{let t=Array.isArray(e)?e:n_(e);return t.includes("blob")?[]:t.map(e=>"pdf"===e?"application/pdf":e.includes("/")?e:"audio"===e?["audio/*",...n_(nc)].join(", "):"image"===e?["image/*",...n_(nd)].join(", "):"text"===e?["text/*",...n_(np)].join(", "):"video"===e?["video/*",...n_(nf)].join(", "):`${e}/*`)},nU=e=>Object.fromEntries(nI(e).map(e=>[e,[]]));function nM(e){let t=e.clipboardData?.items;if(t)return Array.from(t).reduce((e,t)=>{let n=t.getAsFile();return n?[...e,n]:e},[])}let nF=e=>({fileTypes:e?n_(e):[],multiple:(e?Object.values(e).map(e=>e.maxFileCount):[]).some(e=>e&&e>1)}),nL=e=>e.charAt(0).toUpperCase()+e.slice(1),nD=e=>{if(!e)return"";let t=n_(e),n=t.map(e=>"blob"===e?"file":e);if(n.length>1){let e=n.pop();return`${n.join("s, ")} and ${e}s`}let r=t[0],a=n[0],{maxFileSize:i,maxFileCount:s,minFileCount:o}=e[r];return s&&s>1?o>1?`${o} - ${s} ${a}s up to ${i}`:`${a}s up to ${i}, max ${s}`:`${a} (${i})`},nz=e=>nL(nD(e)),nP=(e,t)=>{if("string"==typeof e)return e;if("function"==typeof e){let n=e(t);if("string"==typeof n)return n}return""},n$=(e,t)=>{if("object"==typeof e)return e;if("function"==typeof e){let n=e(t);if("object"==typeof n)return n}return{}},nB=(e,t)=>e?"function"!=typeof e?e:"function"==typeof e?e(t):void 0:null,nJ=(...e)=>e.filter(Boolean).join(" ");function nH(e,t){return"application/x-moz-file"===e.type||function(e,t){if(e&&t){let n=Array.isArray(t)?t:t.split(","),r=e.name??"",a=(e.type??"").toLowerCase(),i=a.replace(/\/.*$/,"");return n.some(e=>{let t=e.trim().toLowerCase();return t.startsWith(".")?r.toLowerCase().endsWith(t):t.endsWith("/*")?i===t.replace(/\/.*$/,""):a===t})}return!0}(e,t)}new TextEncoder;let nV=e=>null!=e;function nq(e,t,n){return!nV(e.size)||(nV(t)&&nV(n)?e.size>=t&&e.size<=n:!(nV(t)&&e.size<t||nV(n)&&e.size>n))}function nW(e,t,n){return(!!t||!(e.length>1))&&(!t||!(n>=1)||!(e.length>n))}function nY(e){return"dataTransfer"in e&&null!==e.dataTransfer?Array.prototype.some.call(e.dataTransfer?.types,e=>"Files"===e||"application/x-moz-file"===e):!!e.target&&"files"in e.target&&!!e.target.files}let nG={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[]};function nX(e,t){switch(t.type){case"focus":return{...e,isFocused:!0};case"blur":return{...e,isFocused:!1};case"openDialog":return{...nG,isFileDialogActive:!0};case"closeDialog":return{...e,isFileDialogActive:!1};case"setDraggedFiles":case"setFiles":return{...e,...t.payload};case"reset":return nG;default:return e}}var nZ="7.4.4";let nK=()=>{let e,t;let n=new AbortController;return{promise:new Promise((n,r)=>{e=n,t=r}),ac:n,resolve:e,reject:t}},nQ=e=>{let t=new URL(e.url),n=new URLSearchParams(t.search);return n.set("actionType",e.actionType),n.set("slug",e.slug),t.search=n.toString(),t},n0=e=>(t,n)=>tb(function*(){let r=nQ({url:e.url,slug:e.endpoint,actionType:t}),a=new Headers((yield*tf(async()=>"function"==typeof e.headers?await e.headers():e.headers)));return a.set("x-uploadthing-package",e.package),a.set("x-uploadthing-version",nZ),a.set("Content-Type","application/json"),yield*nN(r,{method:"POST",body:JSON.stringify(n),headers:a}).pipe(t_(nT),tO(s),tZ("FetchError",e=>ts(new nC({code:"INTERNAL_CLIENT_ERROR",message:`Failed to report event "${t}" to UploadThing server`,cause:e}))),tZ("BadRequestError",e=>ts(new nC({code:function(e){for(let[t,n]of Object.entries(nO))if(n===e)return t;return"INTERNAL_SERVER_ERROR"}(e.status),message:e.getMessage(),cause:e.json}))),tZ("InvalidJson",e=>ts(new nC({code:"INTERNAL_CLIENT_ERROR",message:"Failed to parse response from UploadThing server",cause:e}))))}),n1=(e,t,n,r)=>tx(a=>{let i=new XMLHttpRequest;i.open("PUT",n.url,!0),i.setRequestHeader("Range",`bytes=${t}-`),i.setRequestHeader("x-uploadthing-version",nZ),i.responseType="json";let s=0;i.upload.addEventListener("progress",({loaded:e})=>{let t=e-s;r?.({loaded:e,delta:t}),s=e}),i.addEventListener("load",()=>{a(i.status>=200&&i.status<300?ta(i.response):tc(`XHR failed ${i.status} ${i.statusText} - ${JSON.stringify(i.response)}`))}),i.addEventListener("error",()=>{a(new nC({code:"UPLOAD_FAILED"}))});let o=new FormData;return o.append("file",t>0?e.slice(t):e),i.send(o),to(()=>i.abort())}),n2=(e,t,n)=>nN(t.url,{method:"HEAD"}).pipe(tO(({headers:e})=>parseInt(e.get("x-ut-range-start")??"0",10)),tj(e=>n.onUploadProgress?.({delta:e,loaded:e})),tE(r=>n1(e,r,t,e=>n.onUploadProgress?.({delta:e.delta,loaded:e.loaded+r}))),tO(s),tO(n=>({name:e.name,size:e.size,key:t.key,lastModified:e.lastModified,serverData:n.serverData,url:n.url,appUrl:n.appUrl,customId:t.customId,type:e.type,fileHash:n.fileHash}))),n4=(e,t)=>{let n=n0({endpoint:String(e),package:t.package,url:t.url,headers:t.headers}),r=t.files.reduce((e,t)=>e+t.size,0),a=0;return n("upload",{input:"input"in t?t.input:null,files:t.files.map(e=>({name:e.name,size:e.size,type:e.type,lastModified:e.lastModified}))}).pipe(tE(e=>ne(e,(e,n)=>tE(to(()=>t.onUploadBegin?.({file:t.files[n].name})),()=>n2(t.files[n],e,{onUploadProgress:e=>{a+=e.delta,t.onUploadProgress?.({file:t.files[n],progress:Math.round(e.loaded/t.files[n].size*100),loaded:e.loaded,delta:e.delta,totalLoaded:a,totalProgress:Math.round(a/r*100)})}})),{concurrency:6})),tP(nA,window.fetch))},n3=e=>{let t=new Proxy(nS,{get:(e,t)=>t});return{uploadFiles:(n,r)=>n4("function"==typeof n?n(t):n,{...r,skipPolling:{},url:nE(e?.url),package:e.package,input:r.input}).pipe(e=>nr(e,r.signal&&{signal:r.signal})).then(e=>{if("Success"===e._tag)return e.value;if("Interrupt"===e.cause._tag)throw new ny;throw eG(e.cause)}),createUpload:async(n,r)=>{let a=new Map,i=n0({endpoint:String("function"==typeof n?n(t):n),package:e.package,url:nE(e?.url),headers:r.headers}),s=await na(i("upload",{input:"input"in r?r.input:null,files:r.files.map(e=>({name:e.name,size:e.size,type:e.type,lastModified:e.lastModified}))}).pipe(tP(nA,window.fetch))),o=r.files.reduce((e,t)=>e+t.size,0),l=0,u=(e,t)=>n2(e,t,{onUploadProgress:t=>{l+=t.delta,r.onUploadProgress?.({...t,file:e,progress:Math.round(t.loaded/e.size*100),totalLoaded:l,totalProgress:Math.round(l/o*100)})}}).pipe(tP(nA,window.fetch));for(let[e,t]of s.entries()){let n=r.files[e],i=nK();a.set(n,{deferred:i,presigned:t}),nr(u(n,t),{signal:i.ac.signal}).then(e=>{if("Success"===e._tag)return i.resolve(e.value);if("Interrupt"===e.cause._tag)throw new nb;throw eG(e.cause)}).catch(e=>{e instanceof nb||i.reject(e)})}return{pauseUpload:e=>{for(let t of ev(e??r.files)){let e=a.get(t);if(!e)return;if(e.deferred.ac.signal.aborted)throw new ny;e.deferred.ac.abort()}},resumeUpload:e=>{for(let t of ev(e??r.files)){let e=a.get(t);if(!e)throw"No upload found";e.deferred.ac=new AbortController,nr(u(t,e.presigned),{signal:e.deferred.ac.signal}).then(t=>{if("Success"===t._tag)return e.deferred.resolve(t.value);if("Interrupt"===t.cause._tag)throw new nb;throw eG(t.cause)}).catch(t=>{t instanceof nb||e.deferred.reject(t)})}},done:async e=>{let t=[];for(let n of ev(e??r.files)){let e=a.get(n);if(!e)throw"No upload found";t.push(e.deferred.promise)}let n=await Promise.all(t);return e?n[0]:n}}},routeRegistry:t}};var n5=n(12115),n6={uploadthing:"^7.2.0"};let n7="undefined"!=typeof window?n5.useInsertionEffect||n5.useLayoutEffect:()=>void 0;function n8(e){let t=n5.useRef(n9);n7(()=>{t.current=e},[e]);let n=n5.useRef();return n.current||(n.current=function(){return t.current.apply(this,arguments)}),n.current}function n9(){throw Error("INVALID_USEEVENT_INVOCATION: the callback from useEvent cannot be invoked before the component has mounted.")}let re=(e,t)=>{var n,r;let a=globalThis.__UPLOADTHING,{data:i}=function(e,t){let n=(0,n5.useRef)({}),r=(0,n5.useRef)(!1),a={error:void 0,data:void 0},[i,s]=(0,n5.useReducer)((e,t)=>{switch(t.type){case"loading":return{...a};case"fetched":return{...a,data:t.payload};case"error":return{...a,error:t.payload};default:return e}},a);return(0,n5.useEffect)(()=>{if(e)return r.current=!1,(async()=>{if(s({type:"loading"}),n.current[e]){s({type:"fetched",payload:n.current[e]});return}try{let t=await fetch(e,void 0);if(!t.ok)throw Error(t.statusText);let a=await nw(t);if(a instanceof Error)throw a;if(n.current[e]=a,r.current)return;s({type:"fetched",payload:a})}catch(e){if(r.current)return;s({type:"error",payload:e})}})(),()=>{r.current=!0}},[e]),i}(a?void 0:e.href);return null===(r=null!=a?a:i)||void 0===r?void 0:null===(n=r.find(e=>e.slug===t))||void 0===n?void 0:n.config};function rt(e,t,n){let{uploadFiles:r,routeRegistry:a}=n3({url:e,package:"@uploadthing/react"}),[i,s]=(0,n5.useState)(!1),o=(0,n5.useRef)(0),l=(0,n5.useRef)(new Map);return{startUpload:n8(async function(){for(var e,a,i,u,c,d=arguments.length,p=Array(d),f=0;f<d;f++)p[f]=arguments[f];let h=null!==(i=await (null==n?void 0:null===(e=n.onBeforeUploadBegin)||void 0===e?void 0:e.call(n,p[0])))&&void 0!==i?i:p[0],g=p[1];s(!0),h.forEach(e=>l.current.set(e,0)),null==n||null===(a=n.onUploadProgress)||void 0===a||a.call(n,0);try{let e=await r(t,{signal:null==n?void 0:n.signal,headers:null==n?void 0:n.headers,files:h,onUploadProgress:e=>{if(!(null==n?void 0:n.onUploadProgress))return;l.current.set(e.file,e.progress);let t=0;l.current.forEach(e=>{t+=e});let r=10*Math.floor(t/l.current.size/10);if(r!==o.current){var a;null==n||null===(a=n.onUploadProgress)||void 0===a||a.call(n,r),o.current=r}},onUploadBegin(e){let{file:t}=e;(null==n?void 0:n.onUploadBegin)&&n.onUploadBegin(t)},input:g});return await (null==n?void 0:null===(u=n.onClientUploadComplete)||void 0===u?void 0:u.call(n,e)),e}catch(t){let e;if(t instanceof ny)throw t;t instanceof nC?e=t:console.error("Something went wrong. Please contact UploadThing and provide the following cause:",(e=nR(t)).cause instanceof Error?e.cause.toString():e.cause),await (null==n?void 0:null===(c=n.onUploadError)||void 0===c?void 0:c.call(n,e))}finally{s(!1),l.current=new Map,o.current=0}}),isUploading:i,routeConfig:re(e,function(e,...t){return"function"==typeof e?e(...t):e}(t,a))}}let rn=e=>{let t=n8(e);(0,n5.useEffect)(()=>(window.addEventListener("paste",t),()=>{window.removeEventListener("paste",t)}),[t])};function rr(){return(0,a.jsx)("svg",{className:"z-10 block h-5 w-5 animate-spin align-middle text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 576 512",children:(0,a.jsx)("path",{fill:"currentColor",d:"M256 32C256 14.33 270.3 0 288 0C429.4 0 544 114.6 544 256C544 302.6 531.5 346.4 509.7 384C500.9 399.3 481.3 404.6 465.1 395.7C450.7 386.9 445.5 367.3 454.3 351.1C470.6 323.8 480 291 480 255.1C480 149.1 394 63.1 288 63.1C270.3 63.1 256 49.67 256 31.1V32z"})})}function ra(e){let{className:t,cn:n,...r}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",className:n("fill-none stroke-current stroke-2",t),...r,children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.jsx)("path",{d:"m4.9 4.9 14.2 14.2"})]})}let ri={0:"after:w-0",10:"after:w-[10%]",20:"after:w-[20%]",30:"after:w-[30%]",40:"after:w-[40%]",50:"after:w-[50%]",60:"after:w-[60%]",70:"after:w-[70%]",80:"after:w-[80%]",90:"after:w-[90%]",100:"after:w-[100%]"};function rs(e){var t,n,r,i,s,o,l,u,c,d,p,f,h,g,v;let{mode:m="auto",appendOnPaste:x=!1,cn:b=nJ}=null!==(s=e.config)&&void 0!==s?s:{},y=(0,n5.useRef)(new AbortController),w=(0,n5.useRef)(null),[_,j]=(0,n5.useState)(null!==(o=e.__internal_upload_progress)&&void 0!==o?o:0),[k,E]=(0,n5.useState)([]),{startUpload:S,isUploading:O,routeConfig:C}=rt(nE(e.url),e.endpoint,{signal:y.current.signal,headers:e.headers,onClientUploadComplete:t=>{var n;w.current&&(w.current.value=""),E([]),null===(n=e.onClientUploadComplete)||void 0===n||n.call(e,t),j(0)},onUploadProgress:t=>{var n;j(t),null===(n=e.onUploadProgress)||void 0===n||n.call(e,t)},onUploadError:e.onUploadError,onUploadBegin:e.onUploadBegin,onBeforeUploadBegin:e.onBeforeUploadBegin}),{fileTypes:R,multiple:A}=nF(C),N=!!(null!==(l=e.__internal_button_disabled)&&void 0!==l?l:e.disabled),T=(()=>{let t="ready"===e.__internal_state||R.length>0;return e.__internal_state?e.__internal_state:N?"disabled":t?t&&!O?"ready":"uploading":"readying"})(),I=(0,n5.useCallback)(t=>{S(t,"input"in e?e.input:void 0).catch(t=>{if(t instanceof ny){var n;null===(n=e.onUploadAborted)||void 0===n||n.call(e)}else throw t})},[e,S]),U=(0,n5.useMemo)(()=>({type:"file",ref:w,multiple:A,accept:nI(R).join(", "),onChange:t=>{var n;if(!t.target.files)return;let r=Array.from(t.target.files);if(null===(n=e.onChange)||void 0===n||n.call(e,r),"manual"===m){E(r);return}I(r)},disabled:N,tabIndex:N?-1:0}),[e,N,R,m,A,I]);rn(t=>{if(!x||document.activeElement!==w.current)return;let n=nM(t);if(!n)return;let r=n;E(t=>{var a;return r=[...t,...n],null===(a=e.onChange)||void 0===a||a.call(e,r),r}),"auto"===m&&I(k)});let M=(0,n5.useMemo)(()=>({ready:"readying"!==T,isUploading:"uploading"===T,uploadProgress:_,fileTypes:R,files:k}),[R,k,T,_]);return(0,a.jsxs)("div",{className:b("flex flex-col items-center justify-center gap-1",e.className,nP(null===(t=e.appearance)||void 0===t?void 0:t.container,M)),style:n$(null===(n=e.appearance)||void 0===n?void 0:n.container,M),"data-state":T,children:[(0,a.jsxs)("label",{className:b("group relative flex h-10 w-36 cursor-pointer items-center justify-center overflow-hidden rounded-md text-white after:transition-[width] after:duration-500 focus-within:ring-2 focus-within:ring-blue-600 focus-within:ring-offset-2","disabled"===T&&"cursor-not-allowed bg-blue-400","readying"===T&&"cursor-not-allowed bg-blue-400","uploading"===T&&"bg-blue-400 after:absolute after:left-0 after:h-full after:bg-blue-600 after:content-[''] ".concat(ri[_]),"ready"===T&&"bg-blue-600",nP(null===(r=e.appearance)||void 0===r?void 0:r.button,M)),style:n$(null===(i=e.appearance)||void 0===i?void 0:i.button,M),"data-state":T,"data-ut-element":"button",onClick:e=>{if("uploading"===T){e.preventDefault(),e.stopPropagation(),y.current.abort(),y.current=new AbortController;return}"manual"===m&&k.length>0&&(e.preventDefault(),e.stopPropagation(),I(k))},children:[(0,a.jsx)("input",{...U,className:"sr-only"}),(()=>{var t;let n=nB(null===(t=e.content)||void 0===t?void 0:t.button,M);if(n)return n;switch(T){case"readying":return"Loading...";case"uploading":if(_>=100)return(0,a.jsx)(rr,{});return(0,a.jsxs)("span",{className:"z-50",children:[(0,a.jsxs)("span",{className:"block group-hover:hidden",children:[_,"%"]}),(0,a.jsx)(ra,{cn:b,className:"hidden size-4 group-hover:block"})]});default:if("manual"===m&&k.length>0)return"Upload ".concat(k.length," file").concat(1===k.length?"":"s");return"Choose File".concat(U.multiple?"(s)":"")}})()]}),"manual"===m&&k.length>0?(0,a.jsx)("button",{onClick:()=>{var t;E([]),w.current&&(w.current.value=""),null===(t=e.onChange)||void 0===t||t.call(e,[])},className:b("h-[1.25rem] cursor-pointer rounded border-none bg-transparent text-gray-500 transition-colors hover:bg-slate-200 hover:text-gray-600",nP(null===(u=e.appearance)||void 0===u?void 0:u.clearBtn,M)),style:n$(null===(c=e.appearance)||void 0===c?void 0:c.clearBtn,M),"data-state":T,"data-ut-element":"clear-btn",children:null!==(p=nB(null===(d=e.content)||void 0===d?void 0:d.clearBtn,M))&&void 0!==p?p:"Clear"}):(0,a.jsx)("div",{className:b("h-[1.25rem] text-xs leading-5 text-gray-600",nP(null===(f=e.appearance)||void 0===f?void 0:f.allowedContent,M)),style:n$(null===(h=e.appearance)||void 0===h?void 0:h.allowedContent,M),"data-state":T,"data-ut-element":"allowed-content",children:null!==(v=nB(null===(g=e.content)||void 0===g?void 0:g.allowedContent,M))&&void 0!==v?v:nz(C)})]})}var ro=n(6476),rl=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function ru(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=rl.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!=typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"==typeof t?t:"string"==typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var rc=[".DS_Store","Thumbs.db"];function rd(e){return(0,ro.sH)(this,void 0,void 0,function(){return(0,ro.YH)(this,function(t){return rp(e)&&rp(e.dataTransfer)?[2,function(e,t){return(0,ro.sH)(this,void 0,void 0,function(){var n;return(0,ro.YH)(this,function(r){switch(r.label){case 0:if(!e.items)return[3,2];if(n=rh(e.items).filter(function(e){return"file"===e.kind}),"drop"!==t)return[2,n];return[4,Promise.all(n.map(rg))];case 1:return[2,rf(function e(t){return t.reduce(function(t,n){return(0,ro.fX)((0,ro.fX)([],(0,ro.zs)(t),!1),(0,ro.zs)(Array.isArray(n)?e(n):[n]),!1)},[])}(r.sent()))];case 2:return[2,rf(rh(e.files).map(function(e){return ru(e)}))]}})})}(e.dataTransfer,e.type)]:rp(e)&&rp(e.target)?[2,rh(e.target.files).map(function(e){return ru(e)})]:Array.isArray(e)&&e.every(function(e){return"getFile"in e&&"function"==typeof e.getFile})?[2,function(e){return(0,ro.sH)(this,void 0,void 0,function(){return(0,ro.YH)(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(e){return e.getFile()}))];case 1:return[2,t.sent().map(function(e){return ru(e)})]}})})}(e)]:[2,[]]})})}function rp(e){return"object"==typeof e&&null!==e}function rf(e){return e.filter(function(e){return -1===rc.indexOf(e.name)})}function rh(e){if(null===e)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function rg(e){if("function"!=typeof e.webkitGetAsEntry)return rv(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?rx(t):rv(e)}function rv(e){var t=e.getAsFile();return t?Promise.resolve(ru(t)):Promise.reject("".concat(e," is not a File"))}function rm(e){return(0,ro.sH)(this,void 0,void 0,function(){return(0,ro.YH)(this,function(t){return[2,e.isDirectory?rx(e):function(e){return(0,ro.sH)(this,void 0,void 0,function(){return(0,ro.YH)(this,function(t){return[2,new Promise(function(t,n){e.file(function(n){t(ru(n,e.fullPath))},function(e){n(e)})})]})})}(e)]})})}function rx(e){var t=e.createReader();return new Promise(function(e,n){var r=[];!function a(){var i=this;t.readEntries(function(t){return(0,ro.sH)(i,void 0,void 0,function(){var i;return(0,ro.YH)(this,function(s){switch(s.label){case 0:if(t.length)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return e(s.sent()),[3,4];case 3:return n(s.sent()),[3,4];case 4:return[3,6];case 5:i=Promise.all(t.map(rm)),r.push(i),a(),s.label=6;case 6:return[2]}})})},function(e){n(e)})}()})}function rb(e){var t,n,r,i,s,o,l,u,c,d,p,f,h,g,v,m,x,b,y;let{mode:w="manual",appendOnPaste:_=!1,cn:j=nJ}=null!==(g=e.config)&&void 0!==g?g:{},k=(0,n5.useRef)(new AbortController),[E,S]=(0,n5.useState)([]),[O,C]=(0,n5.useState)(null!==(v=e.__internal_upload_progress)&&void 0!==v?v:0),{startUpload:R,isUploading:A,routeConfig:N}=rt(nE(e.url),e.endpoint,{signal:k.current.signal,headers:e.headers,onClientUploadComplete:t=>{var n;S([]),null===(n=e.onClientUploadComplete)||void 0===n||n.call(e,t),C(0)},onUploadProgress:t=>{var n;C(t),null===(n=e.onUploadProgress)||void 0===n||n.call(e,t)},onUploadError:e.onUploadError,onUploadBegin:e.onUploadBegin,onBeforeUploadBegin:e.onBeforeUploadBegin}),{fileTypes:T,multiple:I}=nF(N),U=!!(null!==(m=e.__internal_dropzone_disabled)&&void 0!==m?m:e.disabled),M=(()=>{var t;let n=null!==(t=e.__internal_ready)&&void 0!==t?t:"ready"===e.__internal_state||T.length>0;return e.__internal_state?e.__internal_state:U?"disabled":n?n&&!A?"ready":"uploading":"readying"})(),F=(0,n5.useCallback)(t=>{R(t,"input"in e?e.input:void 0).catch(t=>{if(t instanceof ny){var n;null===(n=e.onUploadAborted)||void 0===n||n.call(e)}else throw t})},[e,R]),{getRootProps:L,getInputProps:D,isDragActive:z,rootRef:P}=function(e){let{accept:t,disabled:n=!1,maxSize:r=Number.POSITIVE_INFINITY,minSize:a=0,multiple:i=!0,maxFiles:s=0,onDrop:o}=e,l=(0,n5.useMemo)(()=>(function(e){if(nV(e))return Object.entries(e).reduce((e,[t,n])=>[...e,t,...n],[]).filter(e=>"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)||/^.*\.[\w]+$/.test(e)).join(",")})(t),[t]),u=(0,n5.useRef)(null),c=(0,n5.useRef)(null),d=(0,n5.useRef)([]),[p,f]=(0,n5.useReducer)(nX,nG);(0,n5.useEffect)(()=>{let e=()=>{p.isFileDialogActive&&setTimeout(()=>{if(c.current){let{files:e}=c.current;(null==e?void 0:e.length)||f({type:"closeDialog"})}},300)};return window.addEventListener("focus",e,!1),()=>{window.removeEventListener("focus",e,!1)}},[p.isFileDialogActive]),(0,n5.useEffect)(()=>{let e=e=>{var t;null!==(t=u.current)&&void 0!==t&&t.contains(e.target)||(e.preventDefault(),d.current=[])},t=e=>e.preventDefault();return document.addEventListener("dragover",t,!1),document.addEventListener("drop",e,!1),()=>{document.removeEventListener("dragover",t),document.removeEventListener("drop",e)}},[]);let h=(0,n5.useCallback)(e=>{e.preventDefault(),e.persist(),d.current=[...d.current,e.target],nY(e)&&Promise.resolve(rd(e)).then(t=>{if(e.isPropagationStopped())return;let n=t.length,o=n>0&&function({files:e,accept:t,minSize:n,maxSize:r,multiple:a,maxFiles:i}){return!!nW(e,a,i)&&e.every(e=>nH(e,t)&&nq(e,n,r))}({files:t,accept:l,minSize:a,maxSize:r,multiple:i,maxFiles:s});f({type:"setDraggedFiles",payload:{isDragAccept:o,isDragReject:n>0&&!o,isDragActive:!0}})}).catch(nS)},[l,s,r,a,i]),g=(0,n5.useCallback)(e=>{if(e.preventDefault(),e.persist(),nY(e)&&null!==e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(e){}return!1},[]),v=(0,n5.useCallback)(e=>{e.preventDefault(),e.persist();let t=d.current.filter(e=>{var t;return null===(t=u.current)||void 0===t?void 0:t.contains(e)}),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),d.current=t,t.length>0||f({type:"setDraggedFiles",payload:{isDragActive:!1,isDragAccept:!1,isDragReject:!1}})},[]),m=(0,n5.useCallback)(e=>{let t=[];e.forEach(e=>{let n=nH(e,l),i=nq(e,a,r);n&&i&&t.push(e)}),nW(t,i,s)||t.splice(0),f({type:"setFiles",payload:{acceptedFiles:t}}),o(t)},[l,s,r,a,i,o]),x=(0,n5.useCallback)(e=>{e.preventDefault(),e.persist(),d.current=[],nY(e)&&Promise.resolve(rd(e)).then(t=>{e.isPropagationStopped()||m(t)}).catch(nS),f({type:"reset"})},[m]),b=(0,n5.useCallback)(()=>{c.current&&(f({type:"openDialog"}),c.current.value="",c.current.click())},[]),y=(0,n5.useCallback)(e=>{var t;(null===(t=u.current)||void 0===t?void 0:t.isEqualNode(e.target))&&("key"in e&&(" "===e.key||"Enter"===e.key)||"keyCode"in e&&(32===e.keyCode||13===e.keyCode))&&(e.preventDefault(),b())},[b]),w=(0,n5.useCallback)(e=>{e.stopPropagation(),p.isFileDialogActive&&e.preventDefault()},[p.isFileDialogActive]),_=(0,n5.useCallback)(()=>f({type:"focus"}),[]),j=(0,n5.useCallback)(()=>f({type:"blur"}),[]),k=(0,n5.useCallback)(()=>{!function(e=window.navigator.userAgent){return e.indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1||e.indexOf("Edge/")>-1}()?b():setTimeout(b,0)},[b]),E=(0,n5.useMemo)(()=>()=>({ref:u,role:"presentation",...n?{}:{tabIndex:0,onKeyDown:y,onFocus:_,onBlur:j,onClick:k,onDragEnter:h,onDragOver:g,onDragLeave:v,onDrop:x}}),[n,j,k,h,v,g,x,_,y]),S=(0,n5.useMemo)(()=>()=>({ref:c,type:"file",style:{display:"none"},accept:l,multiple:i,tabIndex:-1,...n?{}:{onChange:x,onClick:w}}),[l,i,x,w,n]);return{...p,getRootProps:E,getInputProps:S,rootRef:u}}({onDrop:(0,n5.useCallback)(t=>{var n,r;null===(n=e.onDrop)||void 0===n||n.call(e,t),null===(r=e.onChange)||void 0===r||r.call(e,t),S(t),"auto"===w&&F(t)},[e,w,F]),multiple:I,accept:T?nU(T):void 0,disabled:U});rn(t=>{var n;if(!_||document.activeElement!==P.current)return;let r=nM(t);if(!(null==r?void 0:r.length))return;let a=r;S(t=>{var n;return a=[...t,...r],null===(n=e.onChange)||void 0===n||n.call(e,a),a}),null===(n=e.onChange)||void 0===n||n.call(e,a),"auto"===w&&F(a)});let $=(0,n5.useMemo)(()=>({ready:"readying"!==M,isUploading:"uploading"===M,uploadProgress:O,fileTypes:T,files:E,isDragActive:z}),[T,E,M,O,z]);return(0,a.jsxs)("div",{className:j("mt-2 flex flex-col items-center justify-center rounded-lg border border-dashed border-gray-900/25 px-6 py-10 text-center",z&&"bg-blue-600/10",e.className,nP(null===(t=e.appearance)||void 0===t?void 0:t.container,$)),...L(),style:n$(null===(n=e.appearance)||void 0===n?void 0:n.container,$),"data-state":M,children:[null!==(x=nB(null===(r=e.content)||void 0===r?void 0:r.uploadIcon,$))&&void 0!==x?x:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",className:j("mx-auto block h-12 w-12 align-middle text-gray-400",nP(null===(i=e.appearance)||void 0===i?void 0:i.uploadIcon,$)),style:n$(null===(s=e.appearance)||void 0===s?void 0:s.uploadIcon,$),"data-ut-element":"upload-icon","data-state":M,children:(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.5 17a4.5 4.5 0 0 1-1.44-8.765a4.5 4.5 0 0 1 8.302-3.046a3.5 3.5 0 0 1 4.504 4.272A4 4 0 0 1 15 17H5.5Zm3.75-2.75a.75.75 0 0 0 1.5 0V9.66l1.95 2.1a.75.75 0 1 0 1.1-1.02l-3.25-3.5a.75.75 0 0 0-1.1 0l-3.25 3.5a.75.75 0 1 0 1.1 1.02l1.95-2.1v4.59Z",clipRule:"evenodd"})}),(0,a.jsxs)("label",{className:j("relative mt-4 flex w-64 cursor-pointer items-center justify-center text-sm font-semibold leading-6 text-gray-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-600 focus-within:ring-offset-2 hover:text-blue-500","ready"===M?"text-blue-600":"text-gray-500",nP(null===(o=e.appearance)||void 0===o?void 0:o.label,$)),style:n$(null===(l=e.appearance)||void 0===l?void 0:l.label,$),"data-ut-element":"label","data-state":M,children:[(0,a.jsx)("input",{className:"sr-only",...D()}),null!==(b=nB(null===(u=e.content)||void 0===u?void 0:u.label,$))&&void 0!==b?b:"ready"===M?"Choose ".concat(I?"file(s)":"a file"," or drag and drop"):"Loading..."]}),(0,a.jsx)("div",{className:j("m-0 h-[1.25rem] text-xs leading-5 text-gray-600",nP(null===(c=e.appearance)||void 0===c?void 0:c.allowedContent,$)),style:n$(null===(d=e.appearance)||void 0===d?void 0:d.allowedContent,$),"data-ut-element":"allowed-content","data-state":M,children:null!==(y=nB(null===(p=e.content)||void 0===p?void 0:p.allowedContent,$))&&void 0!==y?y:nz(N)}),(0,a.jsx)("button",{className:j("group relative mt-4 flex h-10 w-36 cursor-pointer items-center justify-center overflow-hidden rounded-md border-none text-base text-white after:transition-[width] after:duration-500 focus-within:ring-2 focus-within:ring-blue-600 focus-within:ring-offset-2","disabled"===M&&"cursor-not-allowed bg-blue-400","readying"===M&&"cursor-not-allowed bg-blue-400","uploading"===M&&"bg-blue-400 after:absolute after:left-0 after:h-full after:bg-blue-600 after:content-[''] ".concat(ri[O]),"ready"===M&&"bg-blue-600","disabled:pointer-events-none",nP(null===(f=e.appearance)||void 0===f?void 0:f.button,$)),style:n$(null===(h=e.appearance)||void 0===h?void 0:h.button,$),onClick:e=>{if("uploading"===M){e.preventDefault(),e.stopPropagation(),k.current.abort(),k.current=new AbortController;return}"manual"===w&&E.length>0&&(e.preventDefault(),e.stopPropagation(),F(E))},"data-ut-element":"button","data-state":M,type:"button",disabled:0===E.length||"disabled"===M,children:(()=>{var t;let n=nB(null===(t=e.content)||void 0===t?void 0:t.button,$);if(n)return n;switch(M){case"readying":return"Loading...";case"uploading":if(O>=100)return(0,a.jsx)(rr,{});return(0,a.jsxs)("span",{className:"z-50",children:[(0,a.jsxs)("span",{className:"block group-hover:hidden",children:[O,"%"]}),(0,a.jsx)(ra,{cn:j,className:"hidden size-4 group-hover:block"})]});default:if("manual"===w&&E.length>0)return"Upload ".concat(E.length," file").concat(1===E.length?"":"s");return"Choose File".concat(I?"(s)":"")}})()})]})}let ry=e=>{nj("@uploadthing/react",n6.uploadthing,nZ);let t=nE(e?.url);return e=>(0,a.jsx)(rs,{...e,url:t})},rw=e=>{nj("@uploadthing/react",n6.uploadthing,nZ);let t=nE(e?.url);return e=>(0,a.jsx)(rb,{...e,url:t})}}}]);