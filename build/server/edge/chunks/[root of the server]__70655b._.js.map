{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/middleware.ts"],"sourcesContent":["import { getToken } from 'next-auth/jwt'\nimport type { NextRequest } from 'next/server'\nimport { NextResponse } from 'next/server'\n\nconst PUBLIC_PATHS = ['/sign-in', '/sign-up']\nconst PROTECTED_PATHS = ['/checkout']\n\nconst isPublicPath = (path: string) =>\n\tPUBLIC_PATHS.some(publicPath => path.startsWith(publicPath))\nconst isProtectedPath = (path: string) =>\n\tPROTECTED_PATHS.some(protectedPath => path.startsWith(protectedPath))\n\nexport async function middleware(request: NextRequest) {\n\tconst token = await getToken({ req: request })\n\tconst { pathname } = request.nextUrl\n\n\t// Redirect authenticated users away from auth pages\n\tif (isPublicPath(pathname) && token) {\n\t\treturn NextResponse.redirect(new URL('/', request.url))\n\t}\n\n\t// Redirect unauthenticated users to sign in\n\tif (isProtectedPath(pathname) && !token) {\n\t\tconst signInUrl = new URL('/sign-in', request.url)\n\t\tsignInUrl.searchParams.set('callbackUrl', pathname)\n\t\treturn NextResponse.redirect(signInUrl)\n\t}\n\n\treturn NextResponse.next()\n}\n\nexport const config = {\n\tmatcher: ['/checkout/:path*', '/sign-in', '/sign-up'],\n}\n"],"names":[],"mappings":";;;;AAAA;AAEA;AAAA;;;AAEA,MAAM,eAAe;IAAC;IAAY;CAAW;AAC7C,MAAM,kBAAkB;IAAC;CAAY;AAErC,MAAM,eAAe,CAAC,OACrB,aAAa,IAAI,CAAC,CAAA,aAAc,KAAK,UAAU,CAAC;AACjD,MAAM,kBAAkB,CAAC,OACxB,gBAAgB,IAAI,CAAC,CAAA,gBAAiB,KAAK,UAAU,CAAC;AAEhD,eAAe,WAAW,OAAoB;IACpD,MAAM,QAAQ,MAAM,CAAA,GAAA,4IAAA,CAAA,WAAQ,AAAD,EAAE;QAAE,KAAK;IAAQ;IAC5C,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;IAEpC,oDAAoD;IACpD,IAAI,aAAa,aAAa,OAAO;QACpC,OAAO,qLAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,KAAK,QAAQ,GAAG;IACtD;IAEA,4CAA4C;IAC5C,IAAI,gBAAgB,aAAa,CAAC,OAAO;QACxC,MAAM,YAAY,IAAI,IAAI,YAAY,QAAQ,GAAG;QACjD,UAAU,YAAY,CAAC,GAAG,CAAC,eAAe;QAC1C,OAAO,qLAAA,CAAA,eAAY,CAAC,QAAQ,CAAC;IAC9B;IAEA,OAAO,qLAAA,CAAA,eAAY,CAAC,IAAI;AACzB;AAEO,MAAM,SAAS;IACrB,SAAS;QAAC;QAAoB;QAAY;KAAW;AACtD"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}