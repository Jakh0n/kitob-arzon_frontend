exports.id=522,exports.ids=[522],exports.modules={24671:(e,t,r)=>{"use strict";var n=Object.create,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t)=>o(e,"name",{value:t,configurable:!0}),d=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of s(t))l.call(e,a)||a===r||o(e,a,{get:()=>t[a],enumerable:!(n=i(t,a))||n.enumerable});return e},c=(e,t,r)=>(r=null!=e?n(a(e)):{},d(!t&&e&&e.__esModule?r:o(r,"default",{value:e,enumerable:!0}),e)),p={};((e,t)=>{for(var r in t)o(e,r,{get:t[r],enumerable:!0})})(p,{default:()=>v,useTopLoader:()=>g}),e.exports=d(o({},"__esModule",{value:!0}),p);var f=c(r(28200)),m=c(r(58009)),y=c(r(99339)),h=c(r(99339)),g=u(()=>({start:()=>h.start(),done:e=>h.done(e),remove:()=>h.remove(),setProgress:e=>h.set(e),inc:e=>h.inc(e),trickle:()=>h.trickle(),isStarted:()=>h.isStarted(),isRendered:()=>h.isRendered(),getPositioningCSS:()=>h.getPositioningCSS()}),"useTopLoader"),b=u(({color:e,height:t,showSpinner:r,crawl:n,crawlSpeed:o,initialPosition:i,easing:s,speed:a,shadow:l,template:d,zIndex:c=1600,showAtBottom:p=!1,showForHashAnchor:f=!0})=>{let h=null!=e?e:"#29d",g=l||void 0===l?l?`box-shadow:${l}`:`box-shadow:0 0 10px ${h},0 0 5px ${h}`:"",b=m.createElement("style",null,`#nprogress{pointer-events:none}#nprogress .bar{background:${h};position:fixed;z-index:${c};${p?"bottom: 0;":"top: 0;"}left:0;width:100%;height:${null!=t?t:3}px}#nprogress .peg{display:block;position:absolute;right:0;width:100px;height:100%;${g};opacity:1;-webkit-transform:rotate(3deg) translate(0px,-4px);-ms-transform:rotate(3deg) translate(0px,-4px);transform:rotate(3deg) translate(0px,-4px)}#nprogress .spinner{display:block;position:fixed;z-index:${c};${p?"bottom: 15px;":"top: 15px;"}right:15px}#nprogress .spinner-icon{width:18px;height:18px;box-sizing:border-box;border:2px solid transparent;border-top-color:${h};border-left-color:${h};border-radius:50%;-webkit-animation:nprogress-spinner 400ms linear infinite;animation:nprogress-spinner 400ms linear infinite}.nprogress-custom-parent{overflow:hidden;position:relative}.nprogress-custom-parent #nprogress .bar,.nprogress-custom-parent #nprogress .spinner{position:absolute}@-webkit-keyframes nprogress-spinner{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}@keyframes nprogress-spinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}`),v=u(e=>new URL(e,window.location.href).href,"toAbsoluteURL"),w=u((e,t)=>{let r=new URL(v(e)),n=new URL(v(t));return r.href.split("#")[0]===n.href.split("#")[0]},"isHashAnchor"),R=u((e,t)=>{let r=new URL(v(e)),n=new URL(v(t));return r.hostname.replace(/^www\./,"")===n.hostname.replace(/^www\./,"")},"isSameHostName");return m.useEffect(()=>{function e(e,t){let r=new URL(e),n=new URL(t);if(r.hostname===n.hostname&&r.pathname===n.pathname&&r.search===n.search){let e=r.hash,t=n.hash;return e!==t&&r.href.replace(e,"")===n.href.replace(t,"")}return!1}y.configure({showSpinner:null==r||r,trickle:null==n||n,trickleSpeed:null!=o?o:200,minimum:null!=i?i:.08,easing:null!=s?s:"ease",speed:null!=a?a:200,template:null!=d?d:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'}),u(e,"isAnchorOfCurrentUrl");var t=document.querySelectorAll("html");let l=u(()=>t.forEach(e=>e.classList.remove("nprogress-busy")),"removeNProgressClass");function c(e){for(;e&&"a"!==e.tagName.toLowerCase();)e=e.parentElement;return e}function p(t){try{let r=t.target,n=c(r),o=null==n?void 0:n.href;if(o){let r=window.location.href,i=""!==n.target,s=["tel:","mailto:","sms:","blob:","download:"].some(e=>o.startsWith(e));if(!R(window.location.href,n.href))return;let a=e(r,o)||w(window.location.href,n.href);if(!f&&a)return;o===r||i||s||a||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey||!v(n.href).startsWith("http")?(y.start(),y.done(),l()):y.start()}}catch(e){y.start(),y.done()}}function m(){y.done(),l()}function h(){y.done()}return u(c,"findClosestAnchor"),u(p,"handleClick"),(e=>{let t=e.pushState;e.pushState=(...r)=>(y.done(),l(),t.apply(e,r))})(window.history),(e=>{let t=e.replaceState;e.replaceState=(...r)=>(y.done(),l(),t.apply(e,r))})(window.history),u(m,"handlePageHide"),u(h,"handleBackAndForth"),window.addEventListener("popstate",h),document.addEventListener("click",p),window.addEventListener("pagehide",m),()=>{document.removeEventListener("click",p),window.removeEventListener("pagehide",m),window.removeEventListener("popstate",h)}},[]),b},"NextTopLoader"),v=b;b.propTypes={color:f.string,height:f.number,showSpinner:f.bool,crawl:f.bool,crawlSpeed:f.number,initialPosition:f.number,easing:f.string,speed:f.number,template:f.string,shadow:f.oneOfType([f.string,f.bool]),zIndex:f.number,showAtBottom:f.bool}},99339:function(e,t,r){var n,o;void 0!==(o="function"==typeof(n=function(){var e,t,r,n={};n.version="0.2.0";var o=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function i(e,t,r){return e<t?t:e>r?r:e}n.configure=function(e){var t,r;for(t in e)void 0!==(r=e[t])&&e.hasOwnProperty(t)&&(o[t]=r);return this},n.status=null,n.set=function(e){var t=n.isStarted();e=i(e,o.minimum,1),n.status=1===e?null:e;var r=n.render(!t),l=r.querySelector(o.barSelector),u=o.speed,d=o.easing;return r.offsetWidth,s(function(t){var i,s;""===o.positionUsing&&(o.positionUsing=n.getPositioningCSS()),a(l,(i=e,(s="translate3d"===o.positionUsing?{transform:"translate3d("+(-1+i)*100+"%,0,0)"}:"translate"===o.positionUsing?{transform:"translate("+(-1+i)*100+"%,0)"}:{"margin-left":(-1+i)*100+"%"}).transition="all "+u+"ms "+d,s)),1===e?(a(r,{transition:"none",opacity:1}),r.offsetWidth,setTimeout(function(){a(r,{transition:"all "+u+"ms linear",opacity:0}),setTimeout(function(){n.remove(),t()},u)},u)):setTimeout(t,u)}),this},n.isStarted=function(){return"number"==typeof n.status},n.start=function(){n.status||n.set(0);var e=function(){setTimeout(function(){n.status&&(n.trickle(),e())},o.trickleSpeed)};return o.trickle&&e(),this},n.done=function(e){return e||n.status?n.inc(.3+.5*Math.random()).set(1):this},n.inc=function(e){var t=n.status;return t?("number"!=typeof e&&(e=(1-t)*i(Math.random()*t,.1,.95)),t=i(t+e,0,.994),n.set(t)):n.start()},n.trickle=function(){return n.inc(Math.random()*o.trickleRate)},e=0,t=0,n.promise=function(r){return r&&"resolved"!==r.state()&&(0===t&&n.start(),e++,t++,r.always(function(){0==--t?(e=0,n.done()):n.set((e-t)/e)})),this},n.render=function(e){if(n.isRendered())return document.getElementById("nprogress");u(document.documentElement,"nprogress-busy");var t=document.createElement("div");t.id="nprogress",t.innerHTML=o.template;var r,i=t.querySelector(o.barSelector),s=e?"-100":(-1+(n.status||0))*100,l=document.querySelector(o.parent);return a(i,{transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),!o.showSpinner&&(r=t.querySelector(o.spinnerSelector))&&p(r),l!=document.body&&u(l,"nprogress-custom-parent"),l.appendChild(t),t},n.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(o.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&p(e)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var s=(r=[],function(e){r.push(e),1==r.length&&function e(){var t=r.shift();t&&t(e)}()}),a=function(){var e=["Webkit","O","Moz","ms"],t={};function r(r,n,o){var i;n=t[i=(i=n).replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})]||(t[i]=function(t){var r=document.body.style;if(t in r)return t;for(var n,o=e.length,i=t.charAt(0).toUpperCase()+t.slice(1);o--;)if((n=e[o]+i)in r)return n;return t}(i)),r.style[n]=o}return function(e,t){var n,o,i=arguments;if(2==i.length)for(n in t)void 0!==(o=t[n])&&t.hasOwnProperty(n)&&r(e,n,o);else r(e,i[1],i[2])}}();function l(e,t){return("string"==typeof e?e:c(e)).indexOf(" "+t+" ")>=0}function u(e,t){var r=c(e),n=r+t;l(r,t)||(e.className=n.substring(1))}function d(e,t){var r,n=c(e);l(e,t)&&(r=n.replace(" "+t+" "," "),e.className=r.substring(1,r.length-1))}function c(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function p(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return n})?n.call(t,r,t,e):n)&&(e.exports=o)},61518:(e,t,r)=>{"use strict";var n=r(53897);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,s){if(s!==n){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},28200:(e,t,r)=>{e.exports=r(61518)()},53897:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},31831:(e,t,r)=>{"use strict";var n=r(67359);r.o(n,"notFound")&&r.d(t,{notFound:function(){return n.notFound}}),r.o(n,"redirect")&&r.d(t,{redirect:function(){return n.redirect}})},46347:(e,t,r)=>{"use strict";function n(){throw Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled.")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"forbidden",{enumerable:!0,get:function(){return n}}),r(26003).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},11271:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isNextRouterError",{enumerable:!0,get:function(){return i}});let n=r(26003),o=r(23543);function i(e){return(0,o.isRedirectError)(e)||(0,n.isHTTPAccessFallbackError)(e)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},67359:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return d},RedirectType:function(){return o.RedirectType},forbidden:function(){return s.forbidden},notFound:function(){return i.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect},unauthorized:function(){return a.unauthorized},unstable_rethrow:function(){return l.unstable_rethrow}});let n=r(26552),o=r(23543),i=r(39274),s=r(46347),a=r(10590),l=r(51370);class u extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class d extends URLSearchParams{append(){throw new u}delete(){throw new u}set(){throw new u}sort(){throw new u}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},39274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return o}});let n=""+r(26003).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function o(){let e=Error(n);throw e.digest=n,e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},23543:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{REDIRECT_ERROR_CODE:function(){return o},RedirectType:function(){return i},isRedirectError:function(){return s}});let n=r(11541),o="NEXT_REDIRECT";var i=function(e){return e.push="push",e.replace="replace",e}({});function s(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let t=e.digest.split(";"),[r,i]=t,s=t.slice(2,-2).join(";"),a=Number(t.at(-2));return r===o&&("replace"===i||"push"===i)&&"string"==typeof s&&!isNaN(a)&&a in n.RedirectStatusCode}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},11541:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}});var r=function(e){return e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e}({});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},26552:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRedirectError:function(){return s},getRedirectStatusCodeFromError:function(){return c},getRedirectTypeFromError:function(){return d},getURLFromRedirectError:function(){return u},permanentRedirect:function(){return l},redirect:function(){return a}});let n=r(19121),o=r(11541),i=r(23543);function s(e,t,r){void 0===r&&(r=o.RedirectStatusCode.TemporaryRedirect);let n=Error(i.REDIRECT_ERROR_CODE);return n.digest=i.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",n}function a(e,t){let r=n.actionAsyncStorage.getStore();throw s(e,t||((null==r?void 0:r.isAction)?i.RedirectType.push:i.RedirectType.replace),o.RedirectStatusCode.TemporaryRedirect)}function l(e,t){throw void 0===t&&(t=i.RedirectType.replace),s(e,t,o.RedirectStatusCode.PermanentRedirect)}function u(e){return(0,i.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function d(e){if(!(0,i.isRedirectError)(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function c(e){if(!(0,i.isRedirectError)(e))throw Error("Not a redirect error");return Number(e.digest.split(";").at(-2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},10590:(e,t,r)=>{"use strict";function n(){throw Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled.")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unauthorized",{enumerable:!0,get:function(){return n}}),r(26003).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},51370:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,s.isNextRouterError)(t)||(0,i.isBailoutToCSRError)(t)||(0,n.isDynamicUsageError)(t)||(0,o.isPostpone)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let n=r(62349),o=r(67418),i=r(40627),s=r(11271);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},62349:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isDynamicUsageError",{enumerable:!0,get:function(){return a}});let n=r(42490),o=r(40627),i=r(11271),s=r(10436),a=e=>(0,n.isDynamicServerError)(e)||(0,o.isBailoutToCSRError)(e)||(0,i.isNextRouterError)(e)||(0,s.isDynamicPostpone)(e)},67418:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isPostpone",{enumerable:!0,get:function(){return n}});let r=Symbol.for("react.postpone");function n(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}},40627:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{BailoutToCSRError:function(){return n},isBailoutToCSRError:function(){return o}});let r="BAILOUT_TO_CLIENT_SIDE_RENDERING";class n extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=r}}function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}},92291:(e,t,r)=>{let{createProxy:n}=r(73439);e.exports=n("/Users/jahkon/Desktop/Redopia/client/node_modules/nextjs-toploader/dist/index.js")},54488:(e,t,r)=>{"use strict";r.d(t,{a6:()=>z});var n=r(66443),o=r(26569),i=r(16917),s=r(33649),a=r(85936),l=r(85375),u=r(71876),d=r(78771);r(968);var c=r(10711),p=r(4545),f=r(42240),m=r(74282),y=r(14781),h=r(84339),g=r(28312),b=r(20171),v=r(85392),w=r(46184),R=r(8423),_=r(57573),E=r(91734),x=r(26155),O="7.4.4";p.uSQ(...o.wq),p.uSQ(...o.Wc),p.uSQ("upload"),p.uSQ("callback","error");let S=p.pdi(p.Wvx,p.QfV,{decode:e=>new TextDecoder().decode(e),encode:e=>new TextEncoder().encode(e)}),T=p._kM({apiKey:p.tmY(p.QfV.pipe(p.w1_("sk_"))),appId:p.QfV,regions:p.eXb(p.QfV),ingestHost:p.QfV.pipe(p.ZEe({default:()=>"ingest.uploadthing.com"}))}),j=p.zkt.pipe(p.ZzX(S),p.ZzX(p.qFJ(T))),P=f.sF().pipe(f.NW(()=>f.xY(new Map(Object.entries((0,o.DF)({}))),{pathDelim:"_"})),f.cY("uploadthing"),f.FU),I=e=>f.Rf(e??{}).pipe(f.NW(()=>P)),U=d.zM("isDev").pipe(d.NW(()=>d.Py("undefined"!=typeof process?"production":void 0).pipe(d.Tj(e=>"development"===e))),d.IQ(!1)),F=p.TSw("token",j).pipe(n.loE({ConfigError:e=>new o.SD({code:"InvalidData"===e._op?"INVALID_SERVER_CONFIG":"MISSING_ENV",message:"InvalidData"===e._op?"Invalid token. A token is a base64 encoded JSON object matching { apiKey: string, appId: string, regions: string[] }.":"Missing token. Please set the `UPLOADTHING_TOKEN` environment variable or provide a token manually through config.",cause:e})})),D=d.Yj("apiUrl").pipe(d.IQ("https://api.uploadthing.com"),d.IY(e=>new URL(e)),d.Tj(e=>e.href.replace(/\/$/,""))),M=n.JkU(function*(){let{regions:e,ingestHost:t}=yield*F,r=e[0];return yield*d.Yj("ingestUrl").pipe(d.IQ(`https://${r}.${t}`),d.IY(e=>new URL(e)),d.Tj(e=>e.href.replace(/\/$/,"")))}),k=d.dm("logLevel").pipe(d.IQ(h.R2),n.hgn(e=>y.minimumLogLevel(e)),n.sFT(e=>n.vVN("Invalid log level").pipe(n.swY("error",e))),n.KuX("ConfigError",e=>new o.SD({code:"INVALID_SERVER_CONFIG",message:"Invalid server configuration",cause:e})),m.vM),L=d.eu("json","logFmt","structured","pretty")("logFormat"),A=n.JkU(function*(){let e=yield*U;return y[yield*L.pipe(d.IQ(e?"pretty":"json"))]}).pipe(n.KuX("ConfigError",e=>new o.SD({code:"INVALID_SERVER_CONFIG",message:"Invalid server configuration",cause:e})),m.vM),N=(e,t)=>{let r=t?.mixin??"json",o=h.Al(t?.level??"Debug");return t=>n.qIB("None"!==r?t[r]:n.rIH,()=>n.lIX(o,`${e} (${t.status})`).pipe(n.swY("response",t)))},C=e=>t=>"ResponseError"===t._tag?N(e,{level:"Error"})(t.response):n.vVN(e).pipe(n.swY("error",t));b.rN("ParserError");let B=(e,t)=>{let r=m.S5(i.qd,m.Py(i.Fp,e)),n=m.kC(v.yo(s.Oj,e=>e.concat(["x-uploadthing-api-key"]))),o=m.Gt(m.Um(A,k,r,n),m.e2(I(t)));return w.L8(o)};class q extends Blob{constructor(e,t,r){let n={...r,type:r?.type??((0,_.$I)(t)||"application/octet-stream"),lastModified:r?.lastModified??Date.now()};super(e,n),this.name=t,this.customId=n.customId,this.lastModified=n.lastModified}}let K=(e,t)=>n.JkU(function*(){let r=new FormData;r.append("file",e);let i=(yield*a.Qq).pipe(a.p$),s=yield*l.yJ(t.url).pipe(l.p1(r),l.WH("Range","bytes=0-"),l.WH("x-uploadthing-version",O),i.execute,n.xm_(e=>new o.SD({code:"UPLOAD_FAILED",message:"Failed to upload file",cause:e})),n.hgn(e=>e.json),n.hgn(x.Mi),n.P1j);return yield*n.MDB(`File ${e.name} uploaded successfully`).pipe(n.swY("json",s)),s});function X(){if("undefined"!=typeof window)throw new o.SD({code:"INTERNAL_SERVER_ERROR",message:"The `utapi` can only be used on the server."})}let Q=e=>n.JkU(function*(){let t=E.u4(e)?e.url:e;if("string"==typeof t&&t.startsWith("data:"))return yield*n.fJG({code:"BAD_REQUEST",message:"Please use uploadFiles() for data URLs. uploadFilesFromUrl() is intended for use with remote URLs only.",data:void 0});t=new URL(t);let{name:r=t.pathname.split("/").pop()??"unknown-filename",customId:o}=E.u4(e)?e:{},i=(yield*a.Qq).pipe(a.p$);return new q([(yield*l.Jt(t).pipe(l.JP({headers:{}}),i.execute,n.qIB(e=>e.arrayBuffer),n.xm_(e=>({code:"BAD_REQUEST",message:`Failed to download requested file: ${e.message}`,data:e.toJSON()})),n.P1j))],r,{customId:o,lastModified:Date.now()})}).pipe(n.f1X("downloadFile")),$=(e,t,r)=>n.JkU(function*(){let{apiKey:n,appId:i}=yield*F,s=yield*M,a=yield*(0,o.rh)(e,i);return{url:yield*(0,o.xX)(`${s}/${a}`,n,{data:{"x-ut-identifier":i,"x-ut-file-name":e.name,"x-ut-file-size":e.size,"x-ut-file-type":e.type,"x-ut-custom-id":e.customId,"x-ut-content-disposition":t,"x-ut-acl":r}}),key:a}}).pipe(n.f1X("generatePresignedUrl")),V=(e,t)=>n.JkU(function*(){let r=yield*$(e,t?.contentDisposition??"inline",t?.acl).pipe(n.KuX("ConfigError",()=>n.fJG({code:"INVALID_SERVER_CONFIG",message:"Failed to generate presigned URL"}))),o=yield*K(e,r).pipe(n.KuX("ResponseError",e=>n.fJG({code:"UPLOAD_FAILED",message:"Failed to upload file",data:e.toJSON()})));return{key:r.key,url:o.url,appUrl:o.appUrl,lastModified:e.lastModified??Date.now(),name:e.name,size:e.size,type:e.type,customId:e.customId??null,fileHash:o.fileHash}}).pipe(n.f1X("uploadFile"));class z{constructor(e){this.opts=e,this.requestUploadThing=(e,t,r)=>n.JkU(this,function*(){let{apiKey:o}=yield*F,i=yield*D,s=(yield*a.Qq).pipe(a.p$);return yield*l.bE(e).pipe(l.c5(i),l.jH(t),l.lL({"x-uploadthing-version":O,"x-uploadthing-be-adapter":"server-sdk","x-uploadthing-api-key":c.Uq(o)}),s.execute,n.Bio({onSuccess:N("UploadThing API Response"),onFailure:C("Failed to request UploadThing API")}),n.qIB(u._u(r)),n.P1j)}).pipe(n.KuX("ConfigError",e=>new o.SD({code:"INVALID_SERVER_CONFIG",message:"There was an error with the server configuration. More info can be found on this error's `cause` property",cause:e})),n.f1X("utapi.#requestUploadThing")),this.executeAsync=async(e,t)=>{let r=await e.pipe(n.f1X("utapi.#executeAsync"),e=>this.runtime.runPromiseExit(e,t?{signal:t}:void 0));if("Failure"===r._tag)throw g.iw(r.cause);return r.value},this.deleteFiles=async(e,t)=>{X();let{keyType:r=this.defaultKeyType}=t??{};class o extends p.Xsx("DeleteFileResponse")({success:p.v8c,deletedCount:p.wNn}){}return await this.executeAsync(this.requestUploadThing("/v6/deleteFiles","fileKey"===r?{fileKeys:R.D8(e)}:{customIds:R.D8(e)},o).pipe(n.f1X("deleteFiles")))},this.getFileUrls=async(e,t)=>{X();let{keyType:r=this.defaultKeyType}=t??{};class o extends p.Xsx("GetFileUrlResponse")({data:p.O31(p._kM({key:p.QfV,url:p.QfV}))}){}return await this.executeAsync(this.requestUploadThing("/v6/getFileUrl","fileKey"===r?{fileKeys:R.D8(e)}:{customIds:R.D8(e)},o).pipe(n.f1X("getFileUrls")))},this.listFiles=async e=>{X();class t extends p.Xsx("ListFileResponse")({hasMore:p.v8c,files:p.O31(p._kM({id:p.QfV,customId:p.T9y(p.QfV),key:p.QfV,name:p.QfV,size:p.wNn,status:p.uSQ("Deletion Pending","Failed","Uploaded","Uploading"),uploadedAt:p.wNn}))}){}return await this.executeAsync(this.requestUploadThing("/v6/listFiles",{...e},t).pipe(n.f1X("listFiles")))},this.renameFiles=async e=>{X();class t extends p.Xsx("RenameFileResponse")({success:p.v8c}){}return await this.executeAsync(this.requestUploadThing("/v6/renameFiles",{updates:R.D8(e)},t).pipe(n.f1X("renameFiles")))},this.getUsageInfo=async()=>{X();class e extends p.Xsx("GetUsageInfoResponse")({totalBytes:p.wNn,appTotalBytes:p.wNn,filesUploaded:p.wNn,limitBytes:p.wNn}){}return await this.executeAsync(this.requestUploadThing("/v6/getUsageInfo",{},e).pipe(n.f1X("getUsageInfo")))},this.getSignedURL=async(e,t)=>{X();let r=t?.expiresIn?(0,o.DP)(t.expiresIn):void 0,{keyType:i=this.defaultKeyType}=t??{};if(t?.expiresIn&&isNaN(r))throw new o.SD({code:"BAD_REQUEST",message:"expiresIn must be a valid time string, for example '1d', '2 days', or a number of seconds."});if(r&&r>604800)throw new o.SD({code:"BAD_REQUEST",message:"expiresIn must be less than 7 days (604800 seconds)."});class s extends p.Xsx("GetSignedUrlResponse")({url:p.QfV}){}return await this.executeAsync(this.requestUploadThing("/v6/requestFileAccess","fileKey"===i?{fileKey:e,expiresIn:r}:{customId:e,expiresIn:r},s).pipe(n.f1X("getSignedURL")))},this.updateACL=async(e,t,r)=>{X();let{keyType:o=this.defaultKeyType}=r??{},i=R.D8(e).map(e=>"fileKey"===o?{fileKey:e,acl:t}:{customId:e,acl:t}),s=p._kM({success:p.v8c});return await this.executeAsync(this.requestUploadThing("/v6/updateACL",{updates:i},s).pipe(n.f1X("updateACL")))},X(),this.fetch=e?.fetch??globalThis.fetch,this.defaultKeyType=e?.defaultKeyType??"fileKey",this.runtime=B(this.fetch,this.opts)}uploadFiles(e,t){X();let r=n.jJl(R.D8(e),e=>V(e,t??{}).pipe(n.YWq({onSuccess:e=>({data:e,error:null}),onFailure:e=>({data:null,error:e})}))).pipe(n.TjK(t=>Array.isArray(e)?t:t[0]),n.Mim(e=>n.MDB("Finished uploading").pipe(n.swY("uploadResult",e))),n.f1X("uploadFiles"));return this.executeAsync(r,t?.signal)}uploadFilesFromUrl(e,t){X();let r=n.jJl(R.D8(e),e=>Q(e).pipe(n.qIB(e=>V(e,t??{})),n.YWq({onSuccess:e=>({data:e,error:null}),onFailure:e=>({data:null,error:e})}))).pipe(n.TjK(t=>Array.isArray(e)?t:t[0]),n.Mim(e=>n.MDB("Finished uploading").pipe(n.swY("uploadResult",e))),n.f1X("uploadFiles")).pipe(n.f1X("uploadFilesFromUrl"));return this.executeAsync(r,t?.signal)}}}};